<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Leehaoze&#39;s blog">
<meta property="og:url" content="http://leehaoze.com/index.html">
<meta property="og:site_name" content="Leehaoze&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leehaoze&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://leehaoze.com/">





  <title>Leehaoze's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Leehaoze's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code&Life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/12/26/首页为什么挂了/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/26/首页为什么挂了/" itemprop="url">首页为什么挂了</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-26T21:38:26+08:00">
                2019-12-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/12/26/探索红黑树/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/26/探索红黑树/" itemprop="url">探索红黑树</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-26T21:10:24+08:00">
                2019-12-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>树作为数据结构中的一种，其目的自然与其他数据结构一致，为了解决数据的高效存取。</p>
<p>树是作为链表和数组的中和，链表插入、删除很快，但是查找很慢，数组查找很快，但是插入删除很慢，而具有一定特征的树(有序、平衡)可以很好中和两者特点，插入删除查询都比较快。</p>
<p>要想明白红黑树，就要从其起源开始说，红黑树本质是一个弱平衡的二叉搜索树。</p>
<p>先来说最普通的二叉搜索树，二叉搜索树是在普通的二叉树上增加了一个要求，简单来讲就是一个节点的左子树(如果有)中所有元素都要小于该节点，节点的右子树(如果有)中所有元素都要大于该节点，并且树中没有相同的值，这样一个二叉树就是二叉搜索树，也叫有序二叉树、排序二叉树。<br><img src="https://s2.ax1x.com/2019/12/26/lEneG8.jpg" alt="IMAGE"><br>这样的一棵树查找时理想状态下最多只需要比较树中一半的节点，可以将时间复杂度降为log(N)级别,插入时无需操作其他节点，只需要改变一下指针。<br>但是这种数据结构存在退化的问题，当一颗二叉搜索树中每个节点都比其父节点大，就会导致该树退化为线性表，导致其失去了log(N)的查询效率。<br><img src="https://s2.ax1x.com/2019/12/26/lEnmRS.jpg" alt="IMAGE"></p>
<p>为了解决这个问题，人们发明了自平衡二叉搜索树(AVL)，总而言之就是在二叉搜索树的基础上又加了一个要求，树中任一一个节点的左右子树高度差 &lt;= 1，这样保证了树不会退化，查找效率一直保证为log(n)。为了保证树的平衡，需要在插入时根据树的不同状态进行”旋转”操作，以保证插入新的节点后，树仍然是平衡的。<br>但是由于这货为了保证严格的平衡，插入时有左旋、右旋、左右旋、右左旋四种可能的操作，因此在代码实现上比较复杂，插入时的效率略低</p>
<p>so，为了解决掉树的失衡退化问题，而又不采用严格平衡的AVL树导致插入效率较低，人们又在想新的数据结构。<br>对于树的失衡问题，本质上是因为 树 无法自己选择 新节点的位置 的权利，这是由搜索树左右子树必须大于/小于根节点内的特性决定的，也就是说对于一般的搜索树，一个新插入的节点，与根节点进行比较后，就会自动进入到子树中，与子树的根节点比较后又会自动进入到子树的子树 ， 最终得到一个确定的位置，树是无法自己分配节点位置，进而导致了树的失衡退化。因此要解决这个问题可以从 赋予 树 决定节点位置的权利 下手。 树虽然无法决定 新插入节点 离开的方向（去往左子树 或是 右子树），但可以赋予树 让节点暂时留下来的能力，大佬们设计出了一种叫做2-3树的数据结构。<br><img src="https://s2.ax1x.com/2019/12/26/lEnnxg.jpg" alt="IMAGE"></p>
<p>2-3树新加入了 一种叫做 3节点的东西，3-节点拥有两个值，三个子树，左子树所有值小于第一个值，中间的子树所有值介于两值之间，右子树所有值大于第二个值。简而言之就是这个节点内可以有两个值，拥有三个子树，3-节点的出现让树除了可以安排新节点到他应该所在的子树中去以外，还可以选择暂时缓存下该节点，放到3-节点自己手里。</p>
<p>其插入流程可以概述为 先将新节点沉到最底部的叶子节点，如果该节点是一个2-节点，还可以存放一个节点，那么久存放起来，如果该节点是一个3-节点，没有空间存放了，那么就进行分裂操作，分裂操作是指将3-节点的中间值 向上挪动，如果父节点是2-节点，则容纳下分裂的节点，如果父节点是3-节点，则父节点继续分裂。</p>
<p>虽然这种数据结构很好的解决了平衡以及维护平衡的效率问题，但无奈其实现比较复杂，需要维护两种的节点的数据结构，实现该树需要大量的代码，不易维护。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/10/10/搭建Electron-React应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/10/搭建Electron-React应用/" itemprop="url">搭建Electron+React应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-10T17:34:14+08:00">
                2019-10-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考自 <code>https://juejin.im/post/5c83e225e51d453b117ba825</code></p>
<h1 id="创建React项目"><a href="#创建React项目" class="headerlink" title="创建React项目"></a>创建React项目</h1><p><code>yarn create react-app APP_NAME</code></p>
<h1 id="添加Electron"><a href="#添加Electron" class="headerlink" title="添加Electron"></a>添加Electron</h1><p><code>cd APP_NAME</code><br><code>yarn add electron --dev</code></p>
<h1 id="配置Electron入口文件"><a href="#配置Electron入口文件" class="headerlink" title="配置Electron入口文件"></a>配置Electron入口文件</h1><p>React入口文件为<code>public/index.html</code>,在<code>public</code>下新建一个Electron应用的入口文件<code>electron.js</code></p>
<h1 id="添加工具库，实现一行命令启动Electron-React"><a href="#添加工具库，实现一行命令启动Electron-React" class="headerlink" title="添加工具库，实现一行命令启动Electron + React"></a>添加工具库，实现一行命令启动Electron + React</h1><p><code>yarn add concurrently --dev</code><br><code>yarn add wait-on --dev</code><br>在<code>package.json</code>中新加一个脚本命令<br><code>&quot;electron-dev&quot;: &quot;concurrently \&quot;BROWSER=none react-scripts start\&quot; \&quot;wait-on http://localhost:3000 &amp;&amp; electron .\&quot;&quot;</code></p>
<h1 id="Electron-入口文件代码"><a href="#Electron-入口文件代码" class="headerlink" title="Electron 入口文件代码"></a>Electron 入口文件代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">const &#123;app, BrowserWindow&#125; = require(&apos;electron&apos;);</span><br><span class="line">const isDev = require(&apos;electron-is-dev&apos;);</span><br><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line"></span><br><span class="line">let mainWindow;</span><br><span class="line"></span><br><span class="line">function createWindow() &#123;</span><br><span class="line">    mainWindow = new BrowserWindow(&#123;</span><br><span class="line">        width: 960,</span><br><span class="line">        height: 600,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    if (isDev) &#123;</span><br><span class="line">        mainWindow.loadURL(&apos;http://localhost:3000/&apos;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        mainWindow.loadFile(&apos;index.html&apos;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mainWindow.webContents.openDevTools();</span><br><span class="line">    mainWindow.on(&apos;closed&apos;, function () &#123;</span><br><span class="line">        mainWindow = null</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.on(&apos;ready&apos;, createWindow);</span><br><span class="line"></span><br><span class="line">app.on(&apos;window-all-closed&apos;, function () &#123;</span><br><span class="line">    if (process.platform !== &apos;darwin&apos;) &#123;</span><br><span class="line">        app.quit()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.on(&apos;activate&apos;, function () &#123;</span><br><span class="line">    if (mainWindow === null) &#123;</span><br><span class="line">        createWindow()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="启动应用"><a href="#启动应用" class="headerlink" title="启动应用"></a>启动应用</h1><p><code>yarn electron-dev</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/10/10/4-寻找两个有序数组的中位数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/10/4-寻找两个有序数组的中位数/" itemprop="url">4.寻找两个有序数组的中位数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-10T15:34:08+08:00">
                2019-10-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。</span><br><span class="line"></span><br><span class="line">请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。</span><br><span class="line"></span><br><span class="line">你可以假设 nums1 和 nums2 不会同时为空。</span><br><span class="line"></span><br><span class="line">示例 1:</span><br><span class="line"></span><br><span class="line">nums1 = [1, 3]</span><br><span class="line">nums2 = [2]</span><br><span class="line"></span><br><span class="line">则中位数是 2.0</span><br><span class="line">示例 2:</span><br><span class="line"></span><br><span class="line">nums1 = [1, 2]</span><br><span class="line">nums2 = [3, 4]</span><br><span class="line"></span><br><span class="line">则中位数是 (2 + 3)/2 = 2.5</span><br><span class="line"></span><br><span class="line">来源：力扣（LeetCode）</span><br><span class="line">链接：https://leetcode-cn.com/problems/median-of-two-sorted-arrays</span><br><span class="line">著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>

<h1 id="初始思路"><a href="#初始思路" class="headerlink" title="初始思路"></a>初始思路</h1><p>计算出两个数组合并后的长度，得到中位数所在的游标，然后通过双游标遍历两个数组的方式合并数组，找到合并后的数组的中位数所在的位置即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public double findMedianSortedArrays(int[] nums1, int[] nums2) &#123;</span><br><span class="line">        int lengthOf1 = nums1.length;</span><br><span class="line">        int lengthOf2 = nums2.length;</span><br><span class="line"></span><br><span class="line">        boolean odd = (lengthOf1 + lengthOf2) % 2 == 0;</span><br><span class="line">        int mediumPos = (lengthOf1 + lengthOf2 + 1) / 2;</span><br><span class="line"></span><br><span class="line">        int posOf1 = 0, posOf2 = 0, currentPos = 0;</span><br><span class="line"></span><br><span class="line">        int preNum = 0, currentNum = 0;</span><br><span class="line">        double result = 0;</span><br><span class="line"></span><br><span class="line">        while (posOf1 &lt; lengthOf1 || posOf2 &lt; lengthOf2) &#123;</span><br><span class="line">            preNum = currentNum;</span><br><span class="line"></span><br><span class="line">            if (posOf1 &lt; lengthOf1 &amp;&amp; posOf2 &lt; lengthOf2) &#123;</span><br><span class="line">                if (nums1[posOf1] &lt; nums2[posOf2]) &#123;</span><br><span class="line">                    currentNum = nums1[posOf1];</span><br><span class="line">                    posOf1++;</span><br><span class="line">                &#125;</span><br><span class="line">                else &#123;</span><br><span class="line">                    currentNum = nums2[posOf2];</span><br><span class="line">                    posOf2++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                if (posOf1 &lt; lengthOf1) &#123;</span><br><span class="line">                    currentNum = nums1[posOf1];</span><br><span class="line">                    posOf1++;</span><br><span class="line">                &#125;</span><br><span class="line">                else &#123;</span><br><span class="line">                    currentNum = nums2[posOf2];</span><br><span class="line">                    posOf2++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            currentPos++;</span><br><span class="line"></span><br><span class="line">            // 如果是偶数</span><br><span class="line">            if (odd) &#123;</span><br><span class="line">                if (currentPos == mediumPos + 1) &#123;</span><br><span class="line">                    // 到了中间位置</span><br><span class="line">                    result = (preNum + currentNum) / 2D;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                if (currentPos == mediumPos) &#123;</span><br><span class="line">                    result = (double) currentNum;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h1><p>对于其中的合并部分 其实可以有更好的办法，优化后的代码如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public double findMedianSortedArrays(int[] nums1, int[] nums2) &#123;</span><br><span class="line">        int lengthOf1 = nums1.length;</span><br><span class="line">        int lengthOf2 = nums2.length;</span><br><span class="line"></span><br><span class="line">        boolean odd = (lengthOf1 + lengthOf2) % 2 == 0;</span><br><span class="line">        int mediumPos = (lengthOf1 + lengthOf2 + 1) / 2;</span><br><span class="line"></span><br><span class="line">        int posOf1 = 0, posOf2 = 0, currentPos = 0;</span><br><span class="line"></span><br><span class="line">        int preNum = 0, currentNum = 0;</span><br><span class="line">        double result = 0;</span><br><span class="line"></span><br><span class="line">        while (posOf1 &lt; lengthOf1 || posOf2 &lt; lengthOf2) &#123;</span><br><span class="line">            preNum = currentNum;</span><br><span class="line"></span><br><span class="line">            if (posOf1 &lt; lengthOf1 &amp;&amp; (posOf2 &gt;= lengthOf2 || nums1[posOf1] &lt; nums2[posOf2])) &#123;</span><br><span class="line">                currentNum = nums1[posOf1];</span><br><span class="line">                posOf1++;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                currentNum = nums2[posOf2];</span><br><span class="line">                posOf2++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            currentPos++;</span><br><span class="line"></span><br><span class="line">            // 如果是偶数</span><br><span class="line">            if (odd) &#123;</span><br><span class="line">                if (currentPos == mediumPos + 1) &#123;</span><br><span class="line">                    // 到了中间位置</span><br><span class="line">                    result = (preNum + currentNum) / 2D;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                if (currentPos == mediumPos) &#123;</span><br><span class="line">                    result = (double) currentNum;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/10/08/3-无重复字符的最长子串/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/08/3-无重复字符的最长子串/" itemprop="url">3.无重复字符的最长子串</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-08T18:58:49+08:00">
                2019-10-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。</span><br><span class="line"></span><br><span class="line">示例 1:</span><br><span class="line"></span><br><span class="line">输入: &quot;abcabcbb&quot;</span><br><span class="line">输出: 3 </span><br><span class="line">解释: 因为无重复字符的最长子串是 &quot;abc&quot;，所以其长度为 3。</span><br><span class="line">示例 2:</span><br><span class="line"></span><br><span class="line">输入: &quot;bbbbb&quot;</span><br><span class="line">输出: 1</span><br><span class="line">解释: 因为无重复字符的最长子串是 &quot;b&quot;，所以其长度为 1。</span><br><span class="line">示例 3:</span><br><span class="line"></span><br><span class="line">输入: &quot;pwwkew&quot;</span><br><span class="line">输出: 3</span><br><span class="line">解释: 因为无重复字符的最长子串是 &quot;wke&quot;，所以其长度为 3。</span><br><span class="line">     请注意，你的答案必须是 子串 的长度，&quot;pwke&quot; 是一个子序列，不是子串。</span><br><span class="line"></span><br><span class="line">来源：力扣（LeetCode）</span><br><span class="line">链接：https://leetcode-cn.com/problems/longest-substring-without-repeating-characters</span><br><span class="line">著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>

<h1 id="初始思路"><a href="#初始思路" class="headerlink" title="初始思路"></a>初始思路</h1><p>可以准备一个桶，用于记录已经出现的字符，可以解决判断重复字符的问题 ，还需要解决记录已形成的子串的长度问题，可以准备一个额外的字符串变量，记录已知的最长的子串。<br>在形成新的子串时，遇到重复的 字符便终止形成 然后比较是否是新的最长子串。<br>然后记录已出现的字符时，可以记录字符出现的位置，这样形成子串时遇到重复的字符只需要回到重复字符上次出现的位置即可</p>
<h1 id="1A代码"><a href="#1A代码" class="headerlink" title="1A代码"></a>1A代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int lengthOfLongestSubstring(String s) &#123;</span><br><span class="line">        // 记录已经找到的子串中最长的长度</span><br><span class="line">        int maxLength = 0;</span><br><span class="line">        // 字符串的长度</span><br><span class="line">        int strLength = s.length();</span><br><span class="line">        //</span><br><span class="line">        HashMap&lt;Character, Integer&gt; charMapToPos = new HashMap&lt;&gt;();</span><br><span class="line">        // 当前寻找的子串的起始位置</span><br><span class="line">        int startPos = 0;</span><br><span class="line">        while (startPos &lt; strLength) &#123;</span><br><span class="line">            StringBuilder temp = new StringBuilder();</span><br><span class="line">            for (int j = startPos; j &lt; strLength; ++j) &#123;</span><br><span class="line">                // 发现重复</span><br><span class="line">                if (charMapToPos.containsKey(s.charAt(j))) &#123;</span><br><span class="line">                    if (temp.length() &gt; maxLength) &#123;</span><br><span class="line">                        maxLength = temp.length();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    startPos = charMapToPos.get(s.charAt(j)) + 1;</span><br><span class="line">                    charMapToPos.clear();</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                else &#123;</span><br><span class="line">                    temp.append(s.charAt(j));</span><br><span class="line">                    charMapToPos.put(s.charAt(j), j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (temp.length() &gt; maxLength) &#123;</span><br><span class="line">                maxLength = temp.length();</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="继续思考"><a href="#继续思考" class="headerlink" title="继续思考"></a>继续思考</h1><p>之前的代码一直有一个temp字符串记录已有的字符串，但其实可以直接记录下标，记录子串的开始下标以及结束下标即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int lengthOfLongestSubstring(String s) &#123;</span><br><span class="line">        int maxLength = 0;</span><br><span class="line"></span><br><span class="line">        int leftPos = 0;</span><br><span class="line"></span><br><span class="line">        int rightPos = 0;</span><br><span class="line"></span><br><span class="line">        int length = s.length();</span><br><span class="line"></span><br><span class="line">        HashMap&lt;Character, Integer&gt; charMapToPos = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        while (length - leftPos &gt; maxLength &amp;&amp; rightPos &lt; length) &#123;</span><br><span class="line">            char c = s.charAt(rightPos);</span><br><span class="line">            if (charMapToPos.containsKey(c) &amp;&amp; charMapToPos.get(c) &gt;= leftPos) &#123;</span><br><span class="line">                maxLength = Math.max(rightPos - leftPos, maxLength);</span><br><span class="line">                leftPos = charMapToPos.get(c) + 1;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            charMapToPos.put(c, rightPos);</span><br><span class="line">            ++rightPos;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        maxLength = Math.max(rightPos - leftPos, maxLength);</span><br><span class="line"></span><br><span class="line">        return maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/09/16/Spring-Boot-实现时间戳参数与LocalDateTime的互转/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/16/Spring-Boot-实现时间戳参数与LocalDateTime的互转/" itemprop="url">Spring-Boot 实现时间戳参数与LocalDateTime的互转</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-16T16:11:13+08:00">
                2019-09-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>数据库中包括实体类对于时间的储存使用的是LocalDateTime类型，而前端接受和返回的都是时间戳类型，所以需要实现在Spring Boot框架下时间戳与LocalDateTime的互转</p>
<h1 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h1><p>实现LocalDateTime的json序列化与反序列化类，通过注解使用</p>
<h1 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h1><p>在VO的属性中，加入序列化、反序列化的注解即可实现时间戳与LocalDateTime的互转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">    @JsonDeserialize(using = LocalDateTimeDeserialize.class)</span><br><span class="line">    @JsonSerialize(using = LocalDateTimeSerializer.class)</span><br><span class="line">    private LocalDateTime lastOnlineTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h1><p>分别继承 <code>JsonDeserializer</code> 与 <code>JsonSerializer</code>即可</p>
<ul>
<li><p>LocalDateTimeDeserialize</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class LocalDateTimeDeserialize extends JsonDeserializer&lt;LocalDateTime&gt; &#123;</span><br><span class="line">    public final int MILLISECOND_TIMESTAMP_LENGTH = 13;</span><br><span class="line"></span><br><span class="line">    public final int SECOND_TIMESTAMP_LENGTH  = 10;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public LocalDateTime deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException &#123;</span><br><span class="line">        String text = jsonParser.getText().trim();</span><br><span class="line">        long timestamp;</span><br><span class="line">        if(text.length() == MILLISECOND_TIMESTAMP_LENGTH)&#123;</span><br><span class="line">            timestamp = Long.parseLong(text) / 1000;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            timestamp = Long.parseLong(text);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(timestamp);</span><br><span class="line"></span><br><span class="line">        return LocalDateTime.ofEpochSecond(timestamp,0, ZoneOffset.ofHours(8));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>LocalDateTimeSerializer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class LocalDateTimeSerializer extends JsonSerializer&lt;LocalDateTime&gt; &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void serialize(LocalDateTime value, JsonGenerator gen, SerializerProvider serializers) throws IOException &#123;</span><br><span class="line">        gen.writeNumber(value.toInstant(ZoneOffset.of(&quot;+8&quot;)).toEpochMilli());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/09/16/MyBatis-Generator几个问题的解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/16/MyBatis-Generator几个问题的解决/" itemprop="url">MyBatis-Generator几个问题的解决</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-16T15:59:03+08:00">
                2019-09-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="使用MyBatis-Generator生成的Example"><a href="#使用MyBatis-Generator生成的Example" class="headerlink" title="使用MyBatis-Generator生成的Example"></a>使用MyBatis-Generator生成的Example</h1><p>Mybatis-Generator生成的Example十分好用，通过Example我们可以随意的组合查询条件而不用去写XML文件。要想在生成时生成Example文件，需要在<code>table</code>标签里，去掉这些<code>*byExample=&quot;false&quot;</code>即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 操作的具体表 --&gt;</span><br><span class="line">&lt;table schema=&quot;test&quot; tableName=&quot;user&quot; domainObjectName=&quot;User&quot; </span><br><span class="line">    enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;</span><br><span class="line">    enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot;</span><br><span class="line">    selectByExampleQueryId=&quot;false&quot;&gt;     </span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Mybatis-Generator无法覆盖旧的XML文件内容"><a href="#Mybatis-Generator无法覆盖旧的XML文件内容" class="headerlink" title="Mybatis-Generator无法覆盖旧的XML文件内容"></a>Mybatis-Generator无法覆盖旧的XML文件内容</h1><p>使用Mabatis-Generator时经常遇到变更了表结构，重新生成xml文件、mapper文件，但经常发现xml文件根本没有被覆盖生成，而是追加内容，直接导致了项目报错，这里需要引入一个插件配置即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!--覆盖生成XML文件--&gt;</span><br><span class="line">&lt;plugin type=&quot;org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin&quot; /&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Mybatis-Generator无法区分同名表"><a href="#Mybatis-Generator无法区分同名表" class="headerlink" title="Mybatis-Generator无法区分同名表"></a>Mybatis-Generator无法区分同名表</h1><p>有时开发时数据库中 会有不同库下的同名表，导致Mybatis-Generator 无法识别使用哪张表，这里需要在数据库JDBC连接参数里新增一个参数<code>nullCatalogMeansCurrent</code></p>
<figure class="highlight plain"><figcaption><span>driverClass</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">                connectionURL=&quot;$&#123;jdbc.url&#125;&quot; userId=&quot;$&#123;jdbc.user&#125;&quot; password=&quot;$&#123;jdbc.password&#125;&quot;&gt;</span><br><span class="line">    &lt;!--MySQL 不支持 schema 或者 catalog 所以需要添加这个--&gt;</span><br><span class="line">    &lt;!--参考 : http://www.mybatis.org/generator/usage/mysql.html--&gt;</span><br><span class="line">    &lt;property name=&quot;nullCatalogMeansCurrent&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">&lt;/jdbcConnection&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Mybatis-Generator生成insert语句时，返回自增主键"><a href="#Mybatis-Generator生成insert语句时，返回自增主键" class="headerlink" title="Mybatis-Generator生成insert语句时，返回自增主键"></a>Mybatis-Generator生成insert语句时，返回自增主键</h1><p>Mybatis-Generator 默认生成的insert语句是不包含<code>userGeneratedKeys</code>和<code>keyColumn</code>信息，所以也就无法返回自增主键，这里是由于生成时没有指定主键列，所有不知道哪个是主键，在表信息里天鉴赏相关信息即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;table tableName=&quot;user&quot; domainObjectName=&quot;User&quot;&gt;</span><br><span class="line">    &lt;generatedKey column=&quot;id&quot; sqlStatement=&quot;MySql&quot; identity=&quot;true&quot;/&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/08/19/Spring使用分页查插件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/19/Spring使用分页查插件/" itemprop="url">Spring使用分页查插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-19T23:14:33+08:00">
                2019-08-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>分页查询是最经常做的工具了，Java里提供了很好用的分页工具可以让我们不再关心如何实现分页</p>
<h1 id="引入依赖"><a href="#引入依赖" class="headerlink" title="引入依赖"></a>引入依赖</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 分页工具 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2.3&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h1 id="注册插件"><a href="#注册插件" class="headerlink" title="注册插件"></a>注册插件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class PageHelperBean &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 将分页插件注入到容器中</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Bean</span><br><span class="line">    public PageHelper pageHelper() &#123;</span><br><span class="line">        //分页插件</span><br><span class="line">        PageHelper pageHelper = new PageHelper();</span><br><span class="line">        Properties properties = new Properties();</span><br><span class="line">        properties.setProperty(&quot;reasonable&quot;, &quot;true&quot;);</span><br><span class="line">        properties.setProperty(&quot;supportMethodsArguments&quot;, &quot;true&quot;);</span><br><span class="line">        properties.setProperty(&quot;helperDialect&quot;, &quot;mysql&quot;);</span><br><span class="line">        properties.setProperty(&quot;params&quot;, &quot;count=countSql&quot;);</span><br><span class="line">        pageHelper.setProperties(properties);</span><br><span class="line">        return pageHelper;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PageHelper.startPage(page,perPage);</span><br><span class="line">List&lt;ApplicationListForm&gt; result = applicationMapper.queryAppsInPage();</span><br></pre></td></tr></table></figure>

<p>在你要做的查询前使用<code>PageHelper.startPage(page,perPage);</code>即可</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/08/15/单一职责原则（SRP）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/15/单一职责原则（SRP）/" itemprop="url">单一职责原则（SRP）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-15T19:28:49+08:00">
                2019-08-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h1><p><code>There should never be more than one reason for a class to change.</code><br><code>一个类应当只有一个引起其变化的原因.</code></p>
<h1 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h1><ul>
<li>WHAT<br>这里的变化是指 <strong>类的代码发生了改变</strong>，反推一下，类的代码发生了改变也就意味着其功能上会发生变化，而<strong>单一职责原则</strong>是指类发生改变的原因只能有一个，也就意味着类承担的功能或者说是职责应当只有一个。</li>
</ul>
<p><strong>一个类只负责一件(一类)事情的逻辑，只有这个事情的逻辑发生变化 才去修改这个类</strong>s</p>
<ul>
<li>WHY<br>为什么要有这样的限制呢？可以想一下一个类负责了两件事情，当你修改了其中一件事情的逻辑时，就有可能会影响到另外的事情，可能你只是改了一下<code>手机类</code>的<code>上网</code>功能，但改完后发现<code>手机类</code>不能打电话了，可以拓展想象一下，你的代码中有一个万能类，你改了他的一个功能直接导致万能类GG了，你的服务直接挂了。</li>
</ul>
<p><strong>如果不遵循单一职责原则，就会导致你的代码中一个微小的改动都会引起整个服务的变化。</strong></p>
<ul>
<li>How</li>
</ul>
<p><strong>不要让你的对象成为上帝对象，他无所不知，无所不能</strong><br><strong>不要让别人猜测你的方法/类可能是用来处理什么逻辑的</strong></p>
<ul>
<li>具体的做法<br>我们在开发中，都会或多或少的自觉遵守这个准则。开发的对象，要尽可能的不了解其它事情的逻辑，只知道自己要处理的事情的逻辑，他不应该成为一个上帝对象，知道其它的事情的流程。<br>但这个准则很容易被打破是由于<strong>职责扩散</strong>，这个稍后再提</li>
<li>职责的划分<br>虽然这条准则说描述的是一个对象，但这个范围可大可小，往小的说，一个函数只具有一个功能，这叫单一职责，往大的说，<code>Spring</code>中的<code>Controller</code>、<code>Service</code>、<code>Dao</code>每一层也都只负责路由、服务、数据交互，这也叫单一职责，所以在实际开发应用中，不要只死抠一个类应当只有一个功能。<br>所以说不要生搬硬套对类的单一职责要求从而导致类的数量爆炸，而是要适当选择单一职责的范围，对一个方法实施、或是对同层类实施，或是在恰当的时机对类实施</li>
</ul>
<h1 id="职责扩散"><a href="#职责扩散" class="headerlink" title="职责扩散"></a>职责扩散</h1><p>一般在开发初期的时候，大家写的代码基本都是满足单一职责的，但随着开发维护的脚本，项目变的越来越不可维护，这里主要是由于后期的开发维护中，我们的需求都会有说变化，就导致了某些类的职责变的更细化，原先负责职责T，现在要负责职责T1，T2了，而开发者考虑到拆分两个类的动作略大，就在原有类的基础上加以修改，使其能够承担两个职责了，就这样导致类的职责越来越多，越来越不可维护。这种由于某些原因导致类的职责被细分为多个，称为职责扩散</p>
<h1 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h1><p>通过应用单一职责原则，我们可以有以下几点收益：</p>
<ul>
<li>降低类的复杂度<br>不会出现万能的上帝类，也就不会有一个长达几百上千行的类代码了</li>
<li>提高类的可读性和可维护性<br>由于单个类的职责单一性，代码将会很好的阅读，同时修改代码时，也不会担心影响到其他的地方，确保只修改这一出代码即可，并且不回带来负面影响</li>
<li>降低业务耦合度<br>类和类之间职责有着清楚的划分，既方便了阅读，也降低了类之间的耦合度，修改业务代码是只需要关注一个点即可，不用关注整个业务。</li>
</ul>
<h1 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a>实际应用</h1><p>一个比较好的实际应用莫过于MVC模型了，三层各自负责各自的事情，很具体的例子并不是特别的好举，这里先留一个坑，将来如果有遇到很好的实际应用再来补充</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.jaune162.com/article/details/d9fe6f85.html" target="_blank" rel="noopener">设计原则之–单一职责原则（Single Responsibility Principle, SRP）</a><br><a href="https://blog.csdn.net/zhengzhb/article/details/7278174" target="_blank" rel="noopener">设计模式六大原则（1）：单一职责原则</a><br><a href="https://github.com/onlyliuxin/coding2017/issues/278" target="_blank" rel="noopener">关于单一职责的讨论</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leehaoze.com/2019/08/15/Spring-Boot多环境配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leehaoze">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leehaoze's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/15/Spring-Boot多环境配置/" itemprop="url">Spring Boot多环境配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-15T14:30:51+08:00">
                2019-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>项目开发中，无可避免的需要正式、开发、测试环境等，不同环境的数据源之类的可能会不一样，因此需要区分不同环境下的配置，Spring Boot提供了这样的支持</p>
<p>在项目的<code>resource</code>文件夹下，Spring默认读取<code>application.properties</code>文件，但还可以建立<code>application-dev.properties</code>、<code>application-test.properties</code>、<code>application-prod.properties</code>三个不同场景(开发、测试、生产)的配置文件，然后再默认的<code>application.properties</code>中，选择激活使用哪个环境即可，在配置文件中配置<code>spring.properties.active=dev</code>即可使用开发环境</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Leehaoze</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Leehaoze</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
